<section class="h-100 ">
  <form [formGroup]="registerForm" (ngSubmit)="save()" novalidate>
    <div class="container py-5 h-100">
      <div class="row d-flex justify-content-center align-items-center h-100">
        <div class="col">
          <div class="card card-registration my-4">
            <div class="row g-0">
              <div class="col-xl-6 d-none d-xl-block">
                <img
                  src="assets/book.jpg"
                  alt="Sample photo"
                  class="img-fluid"
                  style="border-top-left-radius: 0.25rem;border-bottom-left-radius: 0.25rem;"/>
              </div>
              <div class="col-xl-6">
                <div class="card-body p-md-5 text-black">
                  <h3 class="mb-3 text-decoration-underline text-center"> Please register using the form below</h3>

                  <div class="row">
                    <div class="col-md-6 mb-4">
                      <div class="form-outline">
                        <input
                          type="text"
                          id="firstName"
                          class="form-control form-control-lg"
                          formControlName="firstName"
                          [ngClass]="{'is-invalid':(registerForm.get('firstName')?.touched ||registerForm.get('firstName')?.dirty) &&!registerForm.get('firstName')?.valid}"/>

                        <label class="form-label" for="firstName"
                          >First name</label
                        >
                        <span class="invalid-feedback">
                          <span *ngIf="registerForm.get('firstName')?.errors?.required">Please enter your first name.</span>
                        </span>
                      </div>
                    </div>
                    <div class="col-md-6 mb-4">
                      <div class="form-outline">
                        <input
                          type="text"
                          id="lastName"
                          class="form-control form-control-lg"
                          formControlName="lastName"
                          [ngClass]="{'is-invalid':(registerForm.get('lastName')?.touched ||registerForm.get('lastName')?.dirty) &&!registerForm.get('lastName')?.valid}"/>
                        <label class="form-label" for="lastName" >Last name</label>
                        <span class="invalid-feedback">
                          <span *ngIf="registerForm.get('lastName')?.errors?.required">Please enter your last name.</span>
                        </span>
                      </div>
                    </div>
                  </div>

                  <div class="form-outline mb-4">
                    <input
                      type="text"
                      id="email"
                      class="form-control form-control-lg"
                      formControlName="email"
                      [ngClass]="{'is-invalid':(registerForm.get('email')?.touched ||registerForm.get('email')?.dirty) &&!registerForm.get('email')?.valid}"/>

                    <label class="form-label" for="email">Email Address</label>
                    <span class="invalid-feedback">
                      <span *ngIf="registerForm.get('email')?.errors?.required">Please enter your email address.</span>
                    </span>
                  </div>

                  <div [formGroup]="passwordGroup">
                    <div class="row">
                      <div class="col-md-6 mb-4">
                        <div class="form-outline">
                          <input
                            type="password"
                            id="password"
                            class="form-control form-control-lg"
                            formControlName="password"
                            [ngClass]="{'is-invalid':(passwordGroup.get('password')?.touched ||passwordGroup.get('password')?.dirty) &&!passwordGroup.get('password')?.valid}"/>
                          <label class="form-label" for="password">Password</label>
                          <span class="invalid-feedback">
                            <span *ngIf="registerForm.get('passwordGroup.password')?.errors?.required">
                              Please enter your pasword.
                            </span>
                            <span *ngIf="registerForm.get('passwordGroup.password')?.errors?.minlength">
                              Password should have min length of 8 characters.
                            </span>
                            <div *ngIf="registerForm.get('passwordGroup.password')?.errors?.notmeets">
                              Password should have atlease one uppercase, one lowercase and one number.
                            </div>
                          </span>
                        </div>
                      </div>
                      <div class="col-md-6 mb-4">
                        <div class="form-outline">
                          <input
                            type="password"
                            id="repeatPassword"
                            class="form-control form-control-lg"
                            formControlName="repeatPassword"
                            [ngClass]="{'is-invalid': (passwordGroup.get('repeatPassword')?.touched ||passwordGroup.get('repeatPassword')?.dirty) &&!passwordGroup.get('repeatPassword')?.valid}"
                          />
                          <label class="form-label" for="repeatPassword"
                            >Repeat Password</label>
                          <span class="invalid-feedback">
                            <span *ngIf="registerForm.get('passwordGroup.repeatPassword')?.errors?.required">
                              Please repeat your pasword.
                            </span>
                            <span *ngIf="registerForm.get('passwordGroup.repeatPassword')?.errors?.minlength">
                              Repeat password should have min length of 8 characters.
                            </span>
                          </span>
                          <div *ngIf="registerForm.get('passwordGroup')?.errors?.nomatch" class="text-danger">
                            Repeat password do not match the password.
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>

                  <div class="d-flex justify-content-end pt-3">
                    <button type="submit" class="btn btn-warning btn-lg ms-2" [disabled]="!registerForm.valid">
                      Register
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </form>
</section>
